---
title: "R-loop comparison"
author: "Aiola Stoja"
date: "2023-11-16"
output: html_document
---

```{r setup packages, include=FALSE}

library(readxl)
library(tidyr)
library(dplyr)
library(purrr)
library("biomaRt")

```


```{r readin table}

my_data <- as.list(read_xlsx("tables1_Helicases_in_R-loop_Formation_and_Resolution.xlsx"))
naomit_mydata <- lapply(my_data, function(x) x[!is.na(x)])

naomit_mydata_semicolonseperated<-naomit_mydata %>%
  map(function(x) strsplit(as.character(x), ";")) %>%
  map(function (y) unlist(y))


```


```{r determine whether list is geneID or proteinID, echo=FALSE}

ensembl=useMart("ensembl")
ensembl = useDataset("hsapiens_gene_ensembl",mart=ensembl)
filters = listFilters(ensembl)
attributes = listAttributes(ensembl)


goids = getBM(

        #you want entrezgene so you know which is what, the GO ID and
        # name_1006 is actually the identifier of 'Go term name'
        attributes=listAttributes(c('entrezgene','go_id', 'name_1006')), 

        filters='entrezgene', 
        values=naomit_mydata_semicolonseperated[["...2"]], 
        mart=useMart(ensembl))


```

