---
title: "R-loop comparison"
author: "Aiola Stoja"
date: "2023-11-16"
output: html_document
---

```{r setup packages, include=FALSE}

library(readxl)
library(tidyr)
library(dplyr)
library(purrr)


```


```{r readin table}

my_data <- as.list(read_xlsx("tables1_Helicases_in_R-loop_Formation_and_Resolution.xlsx"))
naomit_mydata <- lapply(my_data, function(x) x[!is.na(x)])

naomit_mydata_semicolonseperated<-naomit_mydata %>%
  map(function(x) strsplit(as.character(x), ";")) %>%
  map(function (y) unlist(y))

naomit_mydata_semicolonseperatedtibble <- purrr::map(naomit_mydata_semicolonseperated, tibble::as_tibble)

naomit_mydatatibble <- purrr::map(naomit_mydata, tibble::as_tibble)

naomit_mydatacol1<- as.data.frame(naomit_mydata$`Table S1. R-loop binding proteins`)
naomit_mydata_semicolonseperatedcol1<- as.data.frame(naomit_mydata_semicolonseperated$`Table S1. R-loop binding proteins`)

naomit_mydatacol1$value

naomit_mydatacol1 %>%
  strsplit(naomit_mydatacol1$value, ";") %>%
  unnest(value)
  
  
  mutate(value = strsplit(as.character(value), ";")) %>% 
    unnest(value)

  

naomit_mydata %>%
  map(function(x) mutate(x) = strsplit(as.character(x), ";"))

strsplit(as.character(naomit_mydata[["Table S1. R-loop binding proteins"]]), ";")

Map(split), naomit_mydata)


my_data1<- as.data.frame(my_data[["Table S1. R-loop binding proteins"]]) 

%>%
   mutate(`Table S1. R-loop binding proteins` = strsplit(as.character(`Table S1. R-loop binding proteins`), ";")) %>% 
    unnest(`Table S1. R-loop binding proteins`)
 
  
  
  
   mutate(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6 = strsplit(as.character(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6), ";")) %>% 
    unnest(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6)


my_data %>%
  mutate(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6 = strsplit(as.character(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6), ";")) %>% 
    unnest(`Table S1. R-loop binding proteins`, ...2, ...3, ...4, ...5, ...6)
  
  
  
    separate_rows(my_data$`Table S1. R-loop binding proteins`, my_data$...2, my_data$...3, my_data$...4, my_data$...5, my_data$...6)

naomit_mydata <- lapply(my_data, function(x) x[!is.na(x)])


```


```{r pressure, echo=FALSE}
plot(pressure)
```

